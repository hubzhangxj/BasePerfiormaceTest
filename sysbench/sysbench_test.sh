#!/bin/bash
###################################################################################
# Default Variables
###################################################################################
arch=`uname -m`

###################################################################################
# Usage
###################################################################################
Usage()
{
cat << EOF

Example:

  --- cpu type test ----------------------------------------------------------------------
  sysbench cpu --cpu-max-prime=10000 run

  --- memory type test -------------------------------------------------------------------
  sysbench memory --memory-block-size=64k --memory-total-size=1G run

  --- mutex type test ---------------------------------------------------------------------
  sysbench mutex --threads=100 --mutex-num=1000 --mutex-locks=100000 --mutex-loops=10000 run

  --- thread type test --------------------------------------------------------------------
  sysbench threads --threads=500 --thread-yields=100 --thread-locks=4 run

EOF
}


###################################################################################
# Get all args
###################################################################################
#echo -$me-$filename

if [ x"$1" == x"-h" ];then
   ./sysbench.${arch} --help
   Usage 
   exit 0
fi


###################################################################################
# Exectue fio test
###################################################################################
#echo "===$*==="
./sysbench.${arch} $*



